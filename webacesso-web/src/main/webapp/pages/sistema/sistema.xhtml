<?xml version="1.0" encoding="ISO-8859-1"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/template/crud.xhtml">
		<ui:param name="action" value="#{sistemaAction}"/>
		<ui:param name="titulo" value="Cadastro de Sistema"/>
		<ui:define name="listagem">
			 <p:dataTable value="#{sistemaAction.lista}" var="sistema" paginator="true" rows="10"
              					  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}" paginatorPosition="top">	                        
                    <p:column width="17%">		
                       	<f:facet name="header"><p:outputLabel value="Sigla"/></f:facet>					       
				        <p:outputLabel value="#{sistema.sigla}"/>
				    </p:column>	
                    <p:column width="35%">		
                       	<f:facet name="header"><p:outputLabel value="Descrição"/></f:facet>					       
				        <p:outputLabel value="#{sistema.descricao}"/>
				    </p:column>						    
				    <p:column width="23%">
				        <f:facet name="header"><p:outputLabel value="URL"/></f:facet>
				        <p:outputLabel value="#{sistema.url}"/>
				    </p:column>						  					    
				    <p:column width="15%">
				    	<f:facet name="header"><p:outputLabel value="Data Cadastro"/></f:facet>
				        <p:outputLabel value="#{sistema.dataCadastro}"><f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Cuiaba"/></p:outputLabel>
				    </p:column>
				    <p:column width="10%" style="text-align: center;">
				    	<f:facet name="header"><p:outputLabel value="Ação"/></f:facet>
				        <p:commandButton actionListener="#{sistemaAction.editar(sistema)}" icon="ui-icon-pencil" update="@all" process="@all"/>
				        <p:outputLabel value=" "/>
				        <p:commandButton actionListener="#{sistemaAction.excluir(sistema)}" icon="ui-icon-close" update="@all" process="@all">
					    	<p:confirm header="Confirmação" message="Excluir sistema?" icon="ui-icon-alert" />
					    </p:commandButton>                        
				    </p:column>
                 	</p:dataTable>	                     		                     
		</ui:define>
		
		<ui:define name="formulario">
			<p:panelGrid>
			    <f:facet name="header">
			    	<p:row><p:column colspan="2">Cadastro de Sistema</p:column></p:row>
			    </f:facet>			 				   		    	
		    	
		    	<p:row>
			    	<p:column style="text-align: right;">    					
	       				<p:outputLabel value="Sigla:"/> 
			    	</p:column>	
			    	<p:column><p:inputText value="#{sistemaAction.sistema.sigla}" size="50" maxlength="10" converter="maiusculoConverter" styleClass="maiusculo" required="true" requiredMessage="O campo 'Sigla' é obrigatório." /></p:column>			   			    	    			   
				</p:row>
				
				<p:row>
			    	<p:column style="text-align: right;">    					
	       				<p:outputLabel value="Descrição:"/> 
			    	</p:column>	
			    	<p:column><p:inputText value="#{sistemaAction.sistema.descricao}" size="50" maxlength="100" converter="maiusculoConverter" styleClass="maiusculo" required="true" requiredMessage="O campo 'Descrição' é obrigatório." /></p:column>			   			    	    			   
				</p:row>
				
				<p:row>
			    	<p:column style="text-align: right;">    					
	       				<p:outputLabel value="URL:"/> 
			    	</p:column>	
			    	<p:column><p:inputText value="#{sistemaAction.sistema.url}" size="50" maxlength="200" /></p:column>			   			    	    			   
				</p:row>
								
			</p:panelGrid>	
			<br/>
		</ui:define>
	        
	</ui:composition>	    
</html>